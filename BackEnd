#Maybe make all functions in mainloop return mainloop so it rechecks all statements
import random
import re

class Bot:
    
    #Class main var
    start = input("Type Here: ")
    opening = ""
    main = ""
    credit_score = ""
    end = False
    
    #Start/Stop var
    greetings = ["Hi", 'Hello', 'Hey there!']
    exit = ["Bye", "Goodbye", "See Ya", "Quit", "Exit", "End", "Stop"]
    exit_reponses = ["Come back if you have more questions!","Have a great day!"]
    
    #Credit var and dict
    credit_bureaus = ["Experian", "Transunion", "Equifax"]
    credit = {
            "Excellent" : list(range(750,851)), "Good" : list(range(700,750)), 
            "Average" : list(range(620,700)), "Below Average" : list(range(600,620)),
            "Bad" : list(range(0,600))
             }
    
#     string_func = {credit : '*credit*'

#                    }
    #Investing var
    index_funds = ['SPY', 'NASDAQ', 'Dow Jones', 'Gold Select']

    def greeting(self):
        self.opening = input("Hello, I am your personal finance chatbot! What's your name? ")

    def quit(self):
        print(random.choice(self.exit_reponses))
        self.end = True
            
    def invest(self):
        if input == "*best investment*":
            print(random.choice(index_funds))
    
    def allChat(self):
            while True:
                self.main = input("What would you like to talk about? ")  
                
    def creditRating(self):
        self.credit_score = input("What is your credit score? ")
        if self.credit_score in self.credit:
            for key, value in self.credit:
                if value in self.credit:
                    print(credit[key])
                    
    def mainLoop(self):
        self.const = True
        
        while self.const == True:
            
            if self.start in self.exit:
                bot.quit()
                break
                
            if self.start in self.greetings:
                bot.greeting()
                open = True
                
            elif self.start not in self.greetings:
                open = False
                x = True
                
                if x == True:
                    self.main = input(random.choice(self.greetings))
                    x = False
                elif x == False:
                    return bot.mainLoop()
                    
                
            if self.opening in self.exit:
                bot.quit()
                break
            else:
                if open ==  True:
                    self.main = input(f"Nice to meet you {self.opening}! What part of finance or investing are you interested in? ")
            
            if self.main not in self.opening:
                if self.main in self.exit:
                    bot.quit()
                    break
                else:
                    bot.allChat()
                
            if self.main == "*credit*":
                bot.credit()
                
                          

bot = Bot()
bot.mainLoop()
